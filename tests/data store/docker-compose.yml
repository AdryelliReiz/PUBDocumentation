version: '3.1'

services:
  db:
    image: conjecto/blazegraph
    container_name: wotpy_data_store
    environment:
      JAVA_OPTS: "-Xms512m -Xmx2g"  # Ajusta a configuração da JVM (opcional)
    ports:
      - "8081:9999"  # Mapeia a porta 8081 para acesso ao Blazegraph
    volumes:
      - ./blazegraph-data:/var/lib/blazegraph  # Persistência dos dados
      - ./data:/docker-entrypoint-initdb.d/kb/data  # Arquivos RDF a serem carregados ao inicializar
      - ./RWStore.properties:/docker-entrypoint-initdb.d/kb/RWStore.properties  # Arquivo de configuração personalizado
    restart: unless-stopped  # Reinicia o container automaticamente se ele parar
