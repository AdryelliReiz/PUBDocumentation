# Documentação Semanal - Semanas 04 - 06

## Período
**Data de Início**: 30-09-2024  
**Data de Término**: 20-10-2024

## Objetivos do Período
- Criar uma implementação simples tanto do lado da Thing quanto do Thing Directory utilizando a ferramenta WoTPy, com o objetivo de se familiarizar com seus conceitos e aplicar a estrutura básica de Thing Description na prática.

## Atividades Realizadas
1. **Atividade 1**: Leitura e compreensão da estrutura e do funcionamento da ferramenta através da documentação.
   - **Link do Repositório**: [Repositório do autor](https://github.com/agmangas/wot-py), [Fork de um ex-aluno e contribuidor do projeto](https://github.com/t16k/wot-py).
   - **Descrição Detalhada**: O primeiro repositório pertence ao criador da ferramenta WotPy, o segundo repositório (feito pelo Gustavo) é um fork do original que possuí algumas alterações e funcionalidades a mais, por essa rezão resolvi explorar ambos a fim de possuir mais materiais.

2. **Atividade 2**: Simulação de um dispositivo IoT com ESP32 em MicroPython e criação de um pequeno servidor (Thing Directory) com WoTPy.
   - **Ferramentas Utilizadas**: Python, WoTPy, MicroPython.
   - **Descrição Detalhada**: Utilizando os repositórios mencionados, simulei uma Thing com um sensor de luminosidade que envia suas observações para um diretório de coisas após se registrar nele. Esse sensor foi programado para atualizar as observações em intervalos regulares. Além disso, foi necessário criar um servidor capaz de registrar as Things e que suportasse múltiplos protocolos de rede como HTTP, WebSocket, MQTT e CoAP.

## Desafios e Problemas Encontrados
- **Bibliotecas de MicroPython**: Achar bibliotecas compatíveis com MicroPython para realizar requisições em diferentes protocolos foi desafiador. Algumas bibliotecas ocupam muita memória no ESP32 e não apresentaram desempenho adequado.
- **Testes com Todos os Protocolos**: Devido à limitação de bibliotecas, foi difícil testar se todos os servidores estavam funcionando corretamente com os diferentes protocolos.
- **Documentação Defasada**: Embora as requisições HTTP funcionassem corretamente, houve problemas com o protocolo CoAP. Aparentemente, as URLs para as requisições estavam sendo montadas incorretamente, pois as requisições chegavam ao servidor (Thing Description), mas não encontravam a rota desejada. Isso parece contraditório, pois segui a documentação disponível para configurar as requisições.

> Observação: O problema com CoAP requer uma análise mais aprofundada para identificar se a questão é realmente a URL ou outra configuração do protocolo.

## Aprendizados e Observações
- **Novo Conhecimento**: Aprendi mais sobre os diferentes protocolos de requisição e seu funcionamento. Compreendi o básico do funcionamento do WoTPy e experimentei novas bibliotecas, identificando quais são mais adequadas para os objetivos do projeto. Também entendi melhor o fluxo de dados e como a ontologia SOSA está integrada nesse contexto.
- **Observações Importantes**: O repositório do WoTPy foi atualizado recentemente, o que pode exigir uma revisão adicional para garantir uma implementação mais eficiente na nossa aplicação.

## Próximos Passos
- Estudar e tentar reutilizar uma aplicação que utilize o Thing Description de maneira mais avançada, criada pelo último colaborador do projeto. Guilherme Lee desenvolveu um sistema que explorou detalhadamente as descrições das Things, e pretendo aproveitar algumas de suas implementações na minha parte do projeto.

---

> **Nota**: Este documento faz parte de uma série semanal para registrar e acompanhar o progresso do projeto de Iniciação Científica em Web of Things.